<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/nextjs-carbon-doc-template/_next/static/css/e47ce5fa414bfd84.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/nextjs-carbon-doc-template/_next/static/css/569212dc7a11222a.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/nextjs-carbon-doc-template/_next/static/css/c95d548d5fd8f7b0.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/nextjs-carbon-doc-template/_next/static/chunks/webpack-c8184223e841a8c0.js" crossorigin=""/><script src="/nextjs-carbon-doc-template/_next/static/chunks/fd9d1056-a3db46d9819ed98e.js" async="" crossorigin=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/69-d0c70480389b0feb.js" async="" crossorigin=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/main-app-d60eaa1efa49bf14.js" async="" crossorigin=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/181b0bce-f7db01d0643db656.js" async=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/410-4b2ac2e19d39d9b7.js" async=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/app/error-ea4ec0dd8a876f37.js" async=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/148-2a1430aff51b6b35.js" async=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/424-a6672f093cde706b.js" async=""></script><script src="/nextjs-carbon-doc-template/_next/static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js" async=""></script><title>Content Parsing</title><meta name="description" content="Experiential Selling Workshops for IBM Partners"/><link rel="icon" href="/nextjs-carbon-doc-template/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/nextjs-carbon-doc-template/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('cds--white','cds--g100');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('cds--g100')}else{d.style.colorScheme = 'light';c.add('cds--white')}}else if(e){var x={"light":"cds--white","dark":"cds--g100"};c.add(x[e]|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><header aria-label="header" class="cds--header"><button aria-expanded="true" aria-label="Close side navigation" class="UIShell_headerButton__k4HUl cds--header__action cds--header__menu-trigger cds--header__action--active cds--header__menu-toggle" title="Close side navigation" type="button"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M17.4141 16L24 9.4141 22.5859 8 16 14.5859 9.4143 8 8 9.4141 14.5859 16 8 22.5859 9.4143 24 16 17.4141 22.5859 24 24 22.5859 17.4141 16z"></path></svg></button><a class="cds--header__name"><span class="cds--header__name--prefix">Carbon</span>Â <!-- -->Next.js Template</a><div class="cds--header__global"><div class="SearchBar_searchWrapper__vxqB_"><div role="search" aria-label="Search" class="cds--search cds--search--lg cds--search--expandable SearchBar_searchBar__bMnh2"><div aria-label="button" aria-labelledby="search-input-:Rlmnla:" role="button" class="cds--search-magnifier" tabindex="0" aria-expanded="false" aria-controls="search-input-:Rlmnla:"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" class="cds--search-magnifier-icon" xmlns="http://www.w3.org/2000/svg"><path d="M15,14.3L10.7,10c1.9-2.3,1.6-5.8-0.7-7.7S4.2,0.7,2.3,3S0.7,8.8,3,10.7c2,1.7,5,1.7,7,0l4.3,4.3L15,14.3z M2,6.5 C2,4,4,2,6.5,2S11,4,11,6.5S9,11,6.5,11S2,9,2,6.5z"></path></svg></div><label id="search-input-:Rlmnla:-search" for="search-input-:Rlmnla:" class="cds--label">search site</label><input autoComplete="off" class="cds--search-input" role="searchbox" id="search-input-:Rlmnla:" placeholder="Search" type="text" tabindex="-1"/><button aria-label="Clear search input" class="cds--search-close cds--search-close--hidden" title="Clear search input" type="button"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M17.4141 16L24 9.4141 22.5859 8 16 14.5859 9.4143 8 8 9.4141 14.5859 16 8 22.5859 9.4143 24 16 17.4141 22.5859 24 24 22.5859 17.4141 16z"></path></svg></button></div></div><span class="cds--popover-container cds--popover--caret cds--popover--high-contrast cds--popover--bottom-right cds--tooltip cds--icon-tooltip"><div class="cds--tooltip-trigger__wrapper"><button aria-label="Change language" aria-labelledby="tooltip-:Rtmnla:" class="cds--btn--icon-only cds--header__action cds--btn cds--btn--primary cds--btn--icon-only cds--btn cds--btn--primary" type="button"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2ZM4.02,16.394l1.3384.4458L7,19.3027v1.2831a1,1,0,0,0,.2929.7071L10,24v2.3765A11.9941,11.9941,0,0,1,4.02,16.394ZM16,28a11.9682,11.9682,0,0,1-2.5718-.2847L14,26l1.8046-4.5116a1,1,0,0,0-.0964-.9261l-1.4113-2.117A1,1,0,0,0,13.4648,18h-4.93L7.2866,16.1274,9.4141,14H11v2h2V13.2656l3.8682-6.7695-1.7364-.9922L14.2769,7H11.5352l-1.086-1.6289A11.861,11.861,0,0,1,20,4.7V8a1,1,0,0,0,1,1h1.4648a1,1,0,0,0,.8321-.4453l.8769-1.3154A12.0331,12.0331,0,0,1,26.8945,11H22.82a1,1,0,0,0-.9806.8039l-.7221,4.4708a1,1,0,0,0,.54,1.0539L25,19l.6851,4.0557A11.9793,11.9793,0,0,1,16,28Z"></path></svg></button></div><span aria-hidden="true" id="tooltip-:Rtmnla:" role="tooltip" class="cds--popover"><span class="cds--popover-content cds--tooltip-content">Change language</span><span class="cds--popover-caret"></span></span></span></div><div class="cds--header-panel UIShell_headerPanel__fP1Ov"><ul class="cds--switcher" aria-label="Toggle theme"></ul></div><div class="cds--side-nav__overlay cds--side-nav__overlay-active"></div><nav tabindex="-1" class="cds--side-nav__navigation UIShell_sideBar__OHyzE cds--side-nav cds--side-nav--expanded cds--side-nav--ux" aria-label="Side navigation"><ul class="cds--side-nav__items"><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-0__y4HS7 UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en"><div class="cds--tag__custom-icon"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M16.6123,2.2138a1.01,1.01,0,0,0-1.2427,0L1,13.4194l1.2427,1.5717L4,13.6209V26a2.0041,2.0041,0,0,0,2,2H26a2.0037,2.0037,0,0,0,2-2V13.63L29.7573,15,31,13.4282ZM18,26H14V18h4Zm2,0V18a2.0023,2.0023,0,0,0-2-2H14a2.002,2.002,0,0,0-2,2v8H6V12.0615l10-7.79,10,7.8005V26Z"></path></svg></div><span class="cds--side-nav__link-text">Home</span></a></li><li class="cds--side-nav__divider"><hr/></li><li class="cds--side-nav__item UIShell_col-0__y4HS7"><button aria-expanded="true" class="cds--side-nav__submenu" type="button" tabindex="0"><span class="cds--side-nav__submenu-title">Welcome</span><div class="cds--side-nav__icon cds--side-nav__icon--small cds--side-nav__submenu-chevron"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M16 22L6 12 7.4 10.6 16 19.2 24.6 10.6 26 12z"></path></svg></div></button><ul class="cds--side-nav__menu"><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs"><span class="cds--side-nav__link-text">Welcome</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/carbon"><span class="cds--side-nav__link-text">Styling</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN cds--side-nav__link--current" href="/nextjs-carbon-doc-template/en/docs/content-loading"><span class="cds--side-nav__link-text">Content Parsing</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/content-sourcing"><span class="cds--side-nav__link-text">Content Data Layer</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/custom-components"><span class="cds--side-nav__link-text">Custom Components</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/fragment-test"><span class="cds--side-nav__link-text">Fragment Testing</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/getting-started"><span class="cds--side-nav__link-text">Getting Started</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/image-test"><span class="cds--side-nav__link-text">Image Test</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/localization"><span class="cds--side-nav__link-text">Localization</span></a></li><li class="cds--side-nav__menu-item"><a class="cds--side-nav__link UIShell_col-1__t_pvL UIShell_sideNavMenuItem__XPTEN" href="/nextjs-carbon-doc-template/en/docs/writing-content"><span class="cds--side-nav__link-text">Writing content</span></a></li></ul></li></ul></nav></header><div class="ResponsiveContent_content__WqnFe cds--content"><main><div class="page_page___0524"><article class="page_article__a4TFA"><header class="Stack_stack__y3P0m Stack_vertical__Us3bx PageHeader_staticHeader__1VvAp"><div class="Stack_stack__y3P0m Stack_horizontal__DC_Kl Stack_justify__tfY_V Stack_justify-space-between__KBK81 Stack_align__uicbA Stack_align-flex-start__EssDf"><nav aria-label="Breadcrumb"><ol class="cds--breadcrumb cds--breadcrumb--no-trailing-slash"><li class="cds--breadcrumb-item"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M16.6123,2.2138a1.01,1.01,0,0,0-1.2427,0L1,13.4194l1.2427,1.5717L4,13.6209V26a2.0041,2.0041,0,0,0,2,2H26a2.0037,2.0037,0,0,0,2-2V13.63L29.7573,15,31,13.4282ZM18,26H14V18h4Zm2,0V18a2.0023,2.0023,0,0,0-2-2H14a2.002,2.002,0,0,0-2,2v8H6V12.0615l10-7.79,10,7.8005V26Z"></path></svg></li><li class="cds--breadcrumb-item"><a class="cds--link" href="/nextjs-carbon-doc-template/en/docs">Welcome</a></li><li class="cds--breadcrumb-item cds--breadcrumb-item--current"><a class="cds--link" href="/nextjs-carbon-doc-template/en/docs/content-loading">Content Parsing</a></li></ol></nav><div class="cds--stack-horizontal cds--stack-scale-2"><div class="cds--tag cds--tag--gray" id="tag-1"><div class="cds--tag__custom-icon"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M15 11H17V20H15zM13 2H19V4H13z"></path><path d="M28,9,26.58,7.59,24.33,9.84a10.94,10.94,0,1,0,1.18,1.65ZM16,26a9,9,0,1,1,9-9A9,9,0,0,1,16,26Z"></path></svg></div><span title="15 min" dir="auto">15 min</span></div><div class="cds--tag cds--tag--gray" id="tag-2"><div class="cds--tag__custom-icon"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M26,4h-4V2h-2v2h-8V2h-2v2H6C4.9,4,4,4.9,4,6v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V6C28,4.9,27.1,4,26,4z M26,26H6V12h20 V26z M26,10H6V6h4v2h2V6h8v2h2V6h4V10z"></path></svg></div><span title="Last updated 03/06/2024" dir="auto">Last updated 03/06/2024</span></div></div></div><h1>Content Parsing</h1></header><header class="Stack_stack__y3P0m Stack_horizontal__DC_Kl Stack_justify__tfY_V Stack_justify-space-between__KBK81 Stack_align__uicbA Stack_align-center__LFWk_ PageHeader_stickyHeader__KIATW"><a title="Scroll to top" href="#">Content Parsing</a><div class="cds--stack-horizontal cds--stack-scale-2"><div class="cds--tag cds--tag--gray" id="tag-3"><div class="cds--tag__custom-icon"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M15 11H17V20H15zM13 2H19V4H13z"></path><path d="M28,9,26.58,7.59,24.33,9.84a10.94,10.94,0,1,0,1.18,1.65ZM16,26a9,9,0,1,1,9-9A9,9,0,0,1,16,26Z"></path></svg></div><span title="15 min" dir="auto">15 min</span></div><div class="cds--tag cds--tag--gray" id="tag-4"><div class="cds--tag__custom-icon"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M26,4h-4V2h-2v2h-8V2h-2v2H6C4.9,4,4,4.9,4,6v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V6C28,4.9,27.1,4,26,4z M26,26H6V12h20 V26z M26,10H6V6h4v2h2V6h8v2h2V6h4V10z"></path></svg></div><span title="Last updated 03/06/2024" dir="auto">Last updated 03/06/2024</span></div></div></header><section><p>Content is originally stored as MDX files within the <code class="CodeBlock_inline__FGflH">content</code> directory at the root of the project. Those familiar with Markdown will have no problem writing MDX as it is a superset of Markdown that allows for JSX syntax.</p><p>Our main use case for MDX over plain Markdown is the ability to drop custom components inline. This allows for interactive content to live alongside static markup.</p><p>For more information on these custom components in action see the page on <a href="/nextjs-carbon-doc-template/en/docs/custom-components">Custom Components</a>. This page will primarily deal in the inner workings on the transformation from markup to HTML/JSX.</p><section><h2 id="nextmdx-pitfall" class="Heading_heading__iNY6s"><a href="#nextmdx-pitfall"><code class="CodeBlock_inline__FGflH">@next/mdx</code> pitfall</a></h2><p>Though Vercel does have out-of-the-box support for MDX via <code class="CodeBlock_inline__FGflH">@next/mdx</code> this preloader forces content to live within the <code class="CodeBlock_inline__FGflH">app</code> directory and conform the filesystem routing <a href="https://nextjs.org/docs/app/building-your-application/routing">outlined</a>. This is rather restricting with a large amount of content like our site (and even more restricting if content is to be sourced remotely).</p><p>For finer control <code class="CodeBlock_inline__FGflH">next-mdx-remote</code> was chosen due to its support for various customization features as well as the ability to directly compile raw MDX into a React element without the need for client providers.</p><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX">
<p>This essentially means a large amount of the MDX will be transformed to simple HTML</p>
</div></blockquote></section><section><h2 id="frontmatter-data" class="Heading_heading__iNY6s"><a href="#frontmatter-data">Frontmatter data</a></h2><p>Contained within each MDX file you might see it prefixed with a small amount of YAML. This is called <strong>frontmatter data</strong> and is utilized later down the line in various ways. Currently supported values include:</p><div role="table" class="cds--structured-list cds--structured-list--condensed Table_tableWrapper__a8e32" aria-label="Structured list section"><div role="rowgroup" class="cds--structured-list-thead Table_tableHeader__YKffY"><div aria-busy="true" role="row" class="cds--structured-list-row"><span class="cds--structured-list-th" role="columnheader" dir="auto">Name</span><span class="cds--structured-list-th" role="columnheader" dir="auto">Type</span><span class="cds--structured-list-th" role="columnheader" dir="auto">Description</span></div></div><div class="cds--structured-list-tbody" role="rowgroup"><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">title</code></div><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">string</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Used as title with side navigation</div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">updated</code></div><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">date</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Sourced in page headers</div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">toc</code></div><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">boolean</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Whether to render table of contents for page</div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">tags</code></div><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">string[]</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Allows for grouping topics covered</div></div></div></div><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX">
<p>All of these fields <strong><em>are optional</em></strong>.</p>
</div></blockquote></section><section><h2 id="from-mdx-to-jsx" class="Heading_heading__iNY6s"><a href="#from-mdx-to-jsx">From MDX to JSX</a></h2><p>In order for our raw MDX content to eventually become JSX that is displayed on a page it must be transformed from one to the other.</p><p>This section will try and explain that process as well as how the various tools we use fit into it.</p><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX">
<p>As a note. We don&#x27;t actually instrument alot of this ourselves. <code class="CodeBlock_inline__FGflH">next-mdx-remote</code> accepts various options that handle this for us. But it might be useful to get some insight into the process.</p>
</div></blockquote><section><h3 id="compilation-and-asts" class="Heading_heading__iNY6s"><a href="#compilation-and-asts">Compilation and ASTs</a></h3><p>This process is most similar to a <strong>compilation step</strong> like how the C compiler takes code and generates an executable. The difference being our target is not an executabe binary but a different markup language (so essentially transpilation but the analogy holds).</p><p>The most popular tooling that exist for this situation is called <code class="CodeBlock_inline__FGflH">remark</code> (for Markdown) and <code class="CodeBlock_inline__FGflH">rehype</code> (for HTML). Both of which are designed to be used by <code class="CodeBlock_inline__FGflH">unified</code> (an ecosystem designed around transforming content).</p><p>These tools are designed to handle the syntax trees that can represent their respective content. The main two we care about are:</p><ul class="cds--list--unordered List_unOrderedList__b5Haz cds--list--expressive">
<li class="cds--list__item" dir="auto">Markdown Abstract Syntax Tree <a href="https://github.com/syntax-tree/mdast">(MDAST)</a></li>
<li class="cds--list__item" dir="auto">HTML Abstract Syntax Tree <a href="https://github.com/syntax-tree/hast">(HAST)</a></li>
</ul><p>It&#x27;s these trees that both <code class="CodeBlock_inline__FGflH">remark</code> and <code class="CodeBlock_inline__FGflH">rehype</code> act on respectively; with both being designed to conform to the <code class="CodeBlock_inline__FGflH">unist</code> <a href="https://github.com/syntax-tree/unist">specification</a>.</p><p>A high-level overview of the process would look like:</p><pre><div class="CodeBlock_multiline__GyfJR"><div class="CodeBlock_codeWrapper__fzSqS"><code><span class="hljs-section"># Transformation pipeline</span>

Raw Markup -&gt; MDAST
MDAST - remark transformations applied
MAST -&gt; HAST
HAST - rehype transformations applied
HAST -&gt; JSX
</code></div><div class="CodeBlock_panel__KcZ0f"><span class="CodeBlock_lang__79Lw8">md</span><span class="cds--popover-container cds--popover--caret cds--popover--high-contrast cds--popover--bottom-right cds--tooltip cds--icon-tooltip"><div class="cds--tooltip-trigger__wrapper"><button aria-labelledby="tooltip-:R1a2nltsqnla:" class="cds--btn--icon-only CodeBlock_copyButton__2IMYz cds--btn cds--btn--md cds--layout--size-md cds--btn--ghost" type="button"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="16" height="16" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z"></path></svg></button></div><span aria-hidden="true" id="tooltip-:R1a2nltsqnla:" role="tooltip" class="cds--popover"><span class="cds--popover-content cds--tooltip-content">Copy code to clipboad</span><span class="cds--popover-caret"></span></span></span></div></div></pre><p>It gets a bit more complex as MDX extends both MDAST and HAST through MDXAST and HXAST respectively. But they are just supersets of the other trees that allow for special MDX syntax.</p></section><section><h3 id="plugins" class="Heading_heading__iNY6s"><a href="#plugins">Plugins</a></h3><p>In this pipeline we are able to intereact with the syntax trees representing Markdown and HTML. This is available via <strong>plugins</strong>. These <strong>plugins</strong> are functions that are passed the entirey of the syntax tree with which they can do whatever they please.</p><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX">
<p>So long as the resulting syntax tree from a plugin is still a valid AST</p>
</div></blockquote><p>Luckily a lot of different plugins are already maintained within the community for common use cases. Here is a list of some of the ones used on our site:</p><div role="table" class="cds--structured-list cds--structured-list--condensed Table_tableWrapper__a8e32" aria-label="Structured list section"><div role="rowgroup" class="cds--structured-list-thead Table_tableHeader__YKffY"><div aria-busy="true" role="row" class="cds--structured-list-row"><span class="cds--structured-list-th" role="columnheader" dir="auto">Name</span><span class="cds--structured-list-th" role="columnheader" dir="auto">Purpose</span><span class="cds--structured-list-th" role="columnheader" dir="auto">Documentation</span></div></div><div class="cds--structured-list-tbody" role="rowgroup"><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">remark-gfm</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Allows for GitHub Flavored Markdown to be parsed properly.</div><div class="cds--structured-list-td" role="cell" dir="auto"><a href="https://github.com/remarkjs/remark-gfm">here</a></div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">remark-breaks</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Allows line breaks to be parses as-is written.</div><div class="cds--structured-list-td" role="cell" dir="auto"><a href="https://github.com/remarkjs/remark-breaks">here</a></div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">rehype-highlight</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Allows for syntax highlight of multi-line code blocks.</div><div class="cds--structured-list-td" role="cell" dir="auto"><a href="https://github.com/rehypejs/rehype-highlight">here</a></div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">rehype-slug</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Appends ids to heading elements.</div><div class="cds--structured-list-td" role="cell" dir="auto"><a href="https://github.com/rehypejs/rehype-slug">here</a></div></div><div aria-busy="true" role="row" class="cds--structured-list-row"><div class="cds--structured-list-td" role="cell" dir="auto"><code class="CodeBlock_inline__FGflH">rehype-autolink-headings</code></div><div class="cds--structured-list-td" role="cell" dir="auto">Creates hash links for headings with id attributes. Works in tandem with <code class="CodeBlock_inline__FGflH">rehype-slug</code></div><div class="cds--structured-list-td" role="cell" dir="auto"><a href="https://github.com/rehypejs/rehype-autolink-headings">here</a></div></div></div></div><p>But there are <a href="https://github.com/remarkjs/remark/blob/main/doc/plugins.md">many</a>, <a href="https://github.com/rehypejs/rehype/blob/main/doc/plugins.md">many</a> more available.</p></section><section><h3 id="custom-transformation-plugins" class="Heading_heading__iNY6s"><a href="#custom-transformation-plugins">Custom transformation plugins</a></h3><p>Some custom plugins have also been created to account for some of edge cases and are listed below. All of them are exported from <code class="CodeBlock_inline__FGflH">src/lib/plugins</code> within the project.</p></section><section><h3 id="remark-image" class="Heading_heading__iNY6s"><a href="#remark-image"><code class="CodeBlock_inline__FGflH">remark-image</code></a></h3><p>Given our images currently live next to our content we need some way of transforming the relative links we use when writing content into links that can be properly understood as static assets. This plugin does just that.</p><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_warning__CyZY4"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M26.0022,4H5.998A1.998,1.998,0,0,0,4,5.998V26.002A1.998,1.998,0,0,0,5.998,28H26.0022A1.9979,1.9979,0,0,0,28,26.002V5.998A1.9979,1.9979,0,0,0,26.0022,4ZM14.8752,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z"></path><path fill="none" d="M14.8751,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z" data-icon-path="inner-path"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX"><p><strong>It only acts on images with relative source values</strong></p></div></blockquote></section><section><h3 id="remark-localize-links" class="Heading_heading__iNY6s"><a href="#remark-localize-links"><code class="CodeBlock_inline__FGflH">remark-localize-links</code></a></h3><p>When writing relative links within our markup it makes more sense to write them with respect to the filesystem they originate from. Thus they do not have their locale prefixed to them like the resulting static pages do. This plugin will transform any relative links within your content to be localized based on as a locale of the generated page.</p><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_warning__CyZY4"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path d="M26.0022,4H5.998A1.998,1.998,0,0,0,4,5.998V26.002A1.998,1.998,0,0,0,5.998,28H26.0022A1.9979,1.9979,0,0,0,28,26.002V5.998A1.9979,1.9979,0,0,0,26.0022,4ZM14.8752,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z"></path><path fill="none" d="M14.8751,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z" data-icon-path="inner-path"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX"><p>It will <strong>only</strong> transform relative links</p></div></blockquote><section><h4 id="helper-utilities" class="Heading_heading__iNY6s"><a href="#helper-utilities">Helper utilities</a></h4><p>Various heler utilities exist within the <code class="CodeBlock_inline__FGflH">unist</code> ecosystem to help solve common problems when parsing an AST. For instance within this repo we use:</p><ul class="cds--list--unordered List_unOrderedList__b5Haz cds--list--expressive">
<li class="cds--list__item" dir="auto"><code class="CodeBlock_inline__FGflH">unist-util-visit</code>: helps to walk an AST</li>
<li class="cds--list__item" dir="auto"><code class="CodeBlock_inline__FGflH">unist-util-select</code>: query for specific nodes in the tree</li>
</ul><p>A full list can be found <a href="https://github.com/syntax-tree/unist?tab=readme-ov-file#list-of-utilities">here</a>.</p><p>When writing any custom plugin these utilities become invaluable assets as they are able to parse any AST that conforms to the <code class="CodeBlock_inline__FGflH">unist</code> spec.</p></section></section></section><section><h2 id="images" class="Heading_heading__iNY6s"><a href="#images">Images</a></h2><p>Images are handled differently in the development and production environments.</p><section><h3 id="local-development" class="Heading_heading__iNY6s"><a href="#local-development">Local Development</a></h3><p>When running the development server images will be sourced locally from the <code class="CodeBlock_inline__FGflH">content</code> folder. However, because of how <a href="https://nextjs.org/docs/app/building-your-application/optimizing/static-assets">static assets</a> are handled in Next.js they are expected to originally be located in the <code class="CodeBlock_inline__FGflH">public</code> folder.</p><p>In order to <em>&quot;cheat&quot;</em> this a symlink has been created in the <code class="CodeBlock_inline__FGflH">public</code> folder to point to the <code class="CodeBlock_inline__FGflH">content</code> folder so that images can remain in-place there.</p><p>For more info on the inner workings of this see <code class="CodeBlock_inline__FGflH">src/lib/plugins/remark-image</code> within the repo.</p></section><section><h3 id="production" class="Heading_heading__iNY6s"><a href="#production">Production</a></h3><p>In a production build images are sourced <strong>remotely</strong>.</p><p>Since our site is hosted as static assets within Github Pages it would be redundant to have them included in the final build assets. Because of this, when a produciton version of the site is built all relative image links will have their paths transformed point to the content hosted in the <code class="CodeBlock_inline__FGflH">main</code> repo on public GitHub.</p><blockquote class="BlockQuote_blockQuote__vac4_ BlockQuote_error__ih1Xn"><svg focusable="false" preserveAspectRatio="xMidYMid meet" fill="currentColor" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z" data-icon-path="inner-path"></path><path d="M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"></path><path d="M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"></path></svg><div class="BlockQuote_blockQuoteContent__BI1NX"><p>If you make a production build of the site locally and cannot see your images that is because they are not yet within the <code class="CodeBlock_inline__FGflH">main</code> branch of the repo. Instead, to test a static build with local assets run <code class="CodeBlock_inline__FGflH">npm run build:local</code>.</p></div></blockquote></section></section></section></article></div></main><footer class="Footer_footer__eT96W"><svg width="81" height="32" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><g fill-rule="evenodd"><path d="M0 32h15.689v-2.038H0zM0 27.721h15.689v-2.038H0zM4.483 23.442h6.724v-2.037H4.483zM4.483 19.164h6.724v-2.038H4.483zM4.483 14.885h6.724v-2.037H4.483zM4.482 10.606h6.724V8.568H4.482zM0 6.327h15.689V4.29H0zM0 2.049h15.689V.011H0zM17.93 29.963V32h16.504a8.521 8.521 0 0 0 5.54-2.037H17.93zM17.93 25.683v2.038h23.914a8.535 8.535 0 0 0 .85-2.038H17.93zM22.412 23.442h6.724v-2.037h-6.724zM40.124 17.126H22.412v2.038H41.77a8.62 8.62 0 0 0-1.645-2.038M22.413 12.848v2.036h17.786a8.612 8.612 0 0 0 1.644-2.037h-19.43zM42.693 6.327a8.447 8.447 0 0 0-.85-2.037H17.93v2.037h24.763zM39.974 2.049a8.521 8.521 0 0 0-5.54-2.037H17.93v2.037h22.044zM22.412 10.606h6.724V8.568h-6.724zM35.453 10.606h7.29a8.603 8.603 0 0 0 .248-2.038h-7.538v2.038zM35.453 21.405v2.037h7.538c0-.703-.09-1.384-.248-2.037h-7.29zM57.457 0H44.825v2.038h13.34zM44.826 32h11.21v-2.038h-11.21zM44.826 27.72h11.21v-2.038h-11.21zM49.309 23.439h6.727v-2.038h-6.727zM49.309 19.159h6.727v-2.038h-6.727zM69.488 32h11.21v-2.038h-11.21zM69.488 27.72h11.21v-2.038h-11.21zM69.488 23.439h6.726v-2.038h-6.726zM69.487 19.159h6.726v-2.038h-6.726zM69.488 14.879h6.726V12.84H63.606l-.707 2.038h5.903l.686-1.94zM61.916 12.84H49.31v2.039h6.726v-1.94l.686 1.94h5.903zM76.213 8.56H65.091l-.707 2.038h11.83zM68.06 0l-.706 2.038h13.344V0zM62.757 32l.72-2.038h-1.432zM61.254 27.72h3.015l.72-2.038h-4.455zM59.743 23.44h6.037l.72-2.039h-7.476zM58.232 19.159h9.06l.719-2.038h-10.5zM49.309 10.598h11.83l-.707-2.038H49.309zM65.868 6.318h14.83V4.28H66.576zM58.947 4.28H44.826v2.038h14.828z"></path></g></svg></footer></div><script src="/nextjs-carbon-doc-template/_next/static/chunks/webpack-c8184223e841a8c0.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/nextjs-carbon-doc-template/_next/static/css/e47ce5fa414bfd84.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/nextjs-carbon-doc-template/_next/static/css/569212dc7a11222a.css\",\"style\",{\"crossOrigin\":\"\"}]\n4:HL[\"/nextjs-carbon-doc-template/_next/static/css/c95d548d5fd8f7b0.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"5:I[7690,[],\"\"]\n8:I[5613,[],\"\"]\nb:I[1778,[],\"\"]\nd:I[449,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"601\",\"static/chunks/app/error-ea4ec0dd8a876f37.js\"],\"\"]\nf:I[8955,[],\"\"]\n9:[\"locale\",\"en\",\"d\"]\na:[\"slug\",\"docs/content-loading\",\"c\"]\n10:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/nextjs-carbon-doc-template/_next/static/css/e47ce5fa414bfd84.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"y-AuAiZZ-NXRooU_bgQDN\",\"assetPrefix\":\"/nextjs-carbon-doc-template\",\"initialCanonicalUrl\":\"/en/docs/content-loading\",\"initialTree\":[\"\",{\"children\":[[\"locale\",\"en\",\"d\"],{\"children\":[[\"slug\",\"docs/content-loading\",\"c\"],{\"children\":[\"__PAGE__?{\\\"locale\\\":\\\"en\\\",\\\"slug\\\":[\\\"docs\\\",\\\"content-loading\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"locale\",\"en\",\"d\"],{\"children\":[[\"slug\",\"docs/content-loading\",\"c\"],{\"children\":[\"__PAGE__\",{},[\"$L6\",\"$L7\",null]]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"$a\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/nextjs-carbon-doc-template/_next/static/css/c95d548d5fd8f7b0.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[null,\"$Lc\",null]]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$d\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/nextjs-carbon-doc-template/_next/static/css/569212dc7a11222a.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],null]],\"initialHead\":[false,\"$Le\"],\"globalErrorComponent\":\"$f\",\"missingSlots\":\"$W10\"}]]\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":\"$L11\"}]}]\n7:\"$L12\"\ne:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Content Parsing\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Experiential Selling Workshops for IBM Partners\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/nextjs-carbon-doc-template/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n6:null\n"])</script><script>self.__next_f.push([1,"13:I[7146,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n14:I[3729,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Bl"])</script><script>self.__next_f.push([1,"ocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n15:I[9969,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n16:I[1541,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/"])</script><script>self.__next_f.push([1,"424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n17:I[263,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n18:I[5268,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/"])</script><script>self.__next_f.push([1,"chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n19:I[5268,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"TableHead\"]\n1a:I[5268,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.j"])</script><script>self.__next_f.push([1,"s\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"TableRow\"]\n1b:I[5268,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\""])</script><script>self.__next_f.push([1,"TableHeadData\"]\n1c:I[5268,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"TableBody\"]\n1d:I[5268,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466"])</script><script>self.__next_f.push([1,"\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"TableData\"]\n22:I[5102,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"UnorderedList\"]\n23:I[5102,[\"884\",\"static/chunks/181b0bce-f7db01d0643db656.js\",\"410\",\"static/chunks/410-4b2ac2e19d39d9b7.js\",\"148\",\"static/chunks"])</script><script>self.__next_f.push([1,"/148-2a1430aff51b6b35.js\",\"424\",\"static/chunks/424-a6672f093cde706b.js\",\"466\",\"static/chunks/app/%5Blocale%5D/%5B...slug%5D/page-2979420ac532ea5a.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"11:[\"$\",\"$L13\",null,{\"locale\":\"en\",\"now\":\"$D2024-04-05T18:59:28.719Z\",\"timeZone\":\"UTC\",\"messages\":{\"UIShell\":{\"Header\":{\"menuButton\":{\"open\":\"Open side navigation\",\"close\":\"Close side navigation\"},\"localeSwitcher\":{\"label\":\"Change language\"},\"themeSwitcher\":{\"label\":\"Toggle theme\"}},\"SideNav\":{\"label\":\"Side navigation\"}}},\"children\":[\"$\",\"$L14\",null,{\"sideBarTree\":{\"children\":{\"en\":{\"children\":{\"docs\":{\"title\":\"Welcome\",\"metadata\":{\"title\":\"Welcome\",\"updated\":\"2024-03-17T00:00:00.000Z\",\"timeToComplete\":\"$undefined\",\"toc\":\"$undefined\"},\"slug\":\"/en/docs\",\"children\":{\"carbon\":{\"title\":\"Styling\",\"metadata\":{\"title\":\"Styling\",\"updated\":\"2024-03-15T00:00:00.000Z\",\"timeToComplete\":10,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/carbon\"},\"content-loading\":{\"title\":\"Content Parsing\",\"metadata\":{\"title\":\"Content Parsing\",\"updated\":\"2024-03-06T00:00:00.000Z\",\"timeToComplete\":15,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/content-loading\"},\"content-sourcing\":{\"title\":\"Content Data Layer\",\"metadata\":{\"title\":\"Content Data Layer\",\"updated\":\"2024-03-14T00:00:00.000Z\",\"timeToComplete\":10,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/content-sourcing\"},\"custom-components\":{\"title\":\"Custom Components\",\"metadata\":{\"title\":\"Custom Components\",\"updated\":\"2024-03-06T00:00:00.000Z\",\"timeToComplete\":10,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/custom-components\"},\"fragment-test\":{\"title\":\"Fragment Testing\",\"metadata\":{\"title\":\"Fragment Testing\",\"updated\":\"2024-03-15T00:00:00.000Z\",\"timeToComplete\":\"$undefined\",\"toc\":\"$undefined\"},\"slug\":\"/en/docs/fragment-test\"},\"getting-started\":{\"title\":\"Getting Started\",\"metadata\":{\"title\":\"Getting Started\",\"updated\":\"$undefined\",\"timeToComplete\":5,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/getting-started\"},\"image-test\":{\"title\":\"Image Test\",\"metadata\":{\"title\":\"Image Test\",\"updated\":\"2024-03-17T00:00:00.000Z\",\"timeToComplete\":2,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/image-test\"},\"localization\":{\"title\":\"Localization\",\"metadata\":{\"title\":\"$undefined\",\"updated\":\"2024-03-17T00:00:00.000Z\",\"timeToComplete\":10,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/localization\"},\"writing-content\":{\"title\":\"Writing content\",\"metadata\":{\"title\":\"Writing content\",\"updated\":\"2024-03-14T00:00:00.000Z\",\"timeToComplete\":5,\"toc\":\"$undefined\"},\"slug\":\"/en/docs/writing-content\"}}}}},\"es\":{\"children\":{\"docs\":{\"title\":\"Welcome spanish\",\"metadata\":{\"title\":\"Welcome spanish\",\"updated\":\"$undefined\",\"timeToComplete\":\"$undefined\",\"toc\":\"$undefined\"},\"slug\":\"/es/docs\",\"children\":{\"carbon\":{\"title\":\"Styling Spanish\",\"metadata\":{\"title\":\"Styling Spanish\",\"updated\":\"$undefined\",\"timeToComplete\":\"$undefined\",\"toc\":\"$undefined\"},\"slug\":\"/es/docs/carbon\"}}}}}}},\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}]}]\n"])</script><script>self.__next_f.push([1,"1f:{\"fill\":\"none\",\"d\":\"M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z\",\"data-icon-path\":\"inner-path\"}\n1e:[\"$\",\"path\",null,\"$1f\"]\n21:{\"d\":\"M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z\"}\n20:[\"$\",\"path\",null,\"$21\"]\n25:{\"d\":\"M26.0022,4H5.998A1.998,1.998,0,0,0,4,5.998V26.002A1.998,1.998,0,0,0,5.998,28H26.0022A1.9979,1.9979,0,0,0,28,26.002V5.998A1.9979,1.9979,0,0,0,26.002"])</script><script>self.__next_f.push([1,"2,4ZM14.8752,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z\"}\n24:[\"$\",\"path\",null,\"$25\"]\n27:{\"fill\":\"none\",\"d\":\"M14.8751,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z\",\"data-icon-path\":\"inner-path\"}\n26:[\"$\",\"path\",null,\"$27\"]\n"])</script><script>self.__next_f.push([1,"12:[\"$\",\"$L13\",null,{\"locale\":\"en\",\"now\":\"$D2024-04-05T18:59:28.719Z\",\"timeZone\":\"UTC\",\"messages\":{\"components\":{\"QuizAlert\":{\"defaultText\":\"Heads up! Parts of this section will be on the quiz.\"},\"PageHeader\":{\"scrollToTop\":\"Scroll to top\",\"lastUpdated\":\"Last updated {date}\"},\"Image\":{},\"CodeBlock\":{\"copyText\":\"Copy code to clipboard\",\"copiedText\":\"Copied!\"},\"TokenizationApplet\":{\"inputLabel\":\"Input text\",\"outputLabel\":\"Tokenized text\",\"tokensTag\":\"{amount} tokens\",\"wordsTag\":\"{amount} words\",\"textToggle\":\"Show text\",\"internalToggle\":\"Show internal\"}}},\"children\":[\"$\",\"div\",null,{\"className\":\"page_page___0524\",\"children\":[\"$\",\"article\",null,{\"className\":\"page_article__a4TFA\",\"children\":[[\"$\",\"$L15\",null,{\"level\":\"$undefined\",\"title\":\"Content Parsing\",\"toc\":\"$undefined\",\"updated\":\"2024-03-06T00:00:00.000Z\",\"timeToComplete\":15,\"breadcrumbs\":[{\"slug\":\"/en/docs\",\"title\":\"Welcome\"},{\"slug\":\"/en/docs/content-loading\",\"title\":\"Content Parsing\"}],\"children\":\"Content Parsing\"}],[\"$\",\"section\",null,{\"children\":[null,[\"$\",\"p\",null,{\"children\":[\"Content is originally stored as MDX files within the \",[\"$\",\"$L16\",null,{\"children\":\"content\"}],\" directory at the root of the project. Those familiar with Markdown will have no problem writing MDX as it is a superset of Markdown that allows for JSX syntax.\"]}],[\"$\",\"p\",null,{\"children\":\"Our main use case for MDX over plain Markdown is the ability to drop custom components inline. This allows for interactive content to live alongside static markup.\"}],[\"$\",\"p\",null,{\"children\":[\"For more information on these custom components in action see the page on \",[\"$\",\"$L17\",null,{\"href\":\"/en/docs/custom-components\",\"children\":\"Custom Components\"}],\". This page will primarily deal in the inner workings on the transformation from markup to HTML/JSX.\"]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"id\":\"nextmdx-pitfall\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#nextmdx-pitfall\",\"children\":[[\"$\",\"$L16\",null,{\"children\":\"@next/mdx\"}],\" pitfall\"]}]}],[\"$\",\"p\",null,{\"children\":[\"Though Vercel does have out-of-the-box support for MDX via \",[\"$\",\"$L16\",null,{\"children\":\"@next/mdx\"}],\" this preloader forces content to live within the \",[\"$\",\"$L16\",null,{\"children\":\"app\"}],\" directory and conform the filesystem routing \",[\"$\",\"$L17\",null,{\"href\":\"https://nextjs.org/docs/app/building-your-application/routing\",\"children\":\"outlined\"}],\". This is rather restricting with a large amount of content like our site (and even more restricting if content is to be sourced remotely).\"]}],[\"$\",\"p\",null,{\"children\":[\"For finer control \",[\"$\",\"$L16\",null,{\"children\":\"next-mdx-remote\"}],\" was chosen due to its support for various customization features as well as the ability to directly compile raw MDX into a React element without the need for client providers.\"]}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z\",\"data-icon-path\":\"inner-path\"}],[\"$\",\"path\",null,{\"d\":\"M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"This essentially means a large amount of the MDX will be transformed to simple HTML\"}],\"\\n\"]}]]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"id\":\"frontmatter-data\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#frontmatter-data\",\"children\":\"Frontmatter data\"}]}],[\"$\",\"p\",null,{\"children\":[\"Contained within each MDX file you might see it prefixed with a small amount of YAML. This is called \",[\"$\",\"strong\",null,{\"children\":\"frontmatter data\"}],\" and is utilized later down the line in various ways. Currently supported values include:\"]}],[\"$\",\"$L18\",null,{\"children\":[[\"$\",\"$L19\",null,{\"children\":[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1b\",null,{\"children\":\"Name\"}],[\"$\",\"$L1b\",null,{\"children\":\"Type\"}],[\"$\",\"$L1b\",null,{\"children\":\"Description\"}]]}]}],[\"$\",\"$L1c\",null,{\"children\":[[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"title\"}]}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"string\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Used as title with side navigation\"}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"updated\"}]}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"date\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Sourced in page headers\"}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"toc\"}]}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"boolean\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Whether to render table of contents for page\"}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"tags\"}]}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"string[]\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Allows for grouping topics covered\"}]]}]]}]]}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$1e\",\"$20\",\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"All of these fields \",[\"$\",\"strong\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"are optional\"}]}],\".\"]}],\"\\n\"]}]]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"id\":\"from-mdx-to-jsx\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#from-mdx-to-jsx\",\"children\":\"From MDX to JSX\"}]}],[\"$\",\"p\",null,{\"children\":\"In order for our raw MDX content to eventually become JSX that is displayed on a page it must be transformed from one to the other.\"}],[\"$\",\"p\",null,{\"children\":\"This section will try and explain that process as well as how the various tools we use fit into it.\"}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$1e\",\"$20\",\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As a note. We don't actually instrument alot of this ourselves. \",[\"$\",\"$L16\",null,{\"children\":\"next-mdx-remote\"}],\" accepts various options that handle this for us. But it might be useful to get some insight into the process.\"]}],\"\\n\"]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"compilation-and-asts\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#compilation-and-asts\",\"children\":\"Compilation and ASTs\"}]}],[\"$\",\"p\",null,{\"children\":[\"This process is most similar to a \",[\"$\",\"strong\",null,{\"children\":\"compilation step\"}],\" like how the C compiler takes code and generates an executable. The difference being our target is not an executabe binary but a different markup language (so essentially transpilation but the analogy holds).\"]}],[\"$\",\"p\",null,{\"children\":[\"The most popular tooling that exist for this situation is called \",[\"$\",\"$L16\",null,{\"children\":\"remark\"}],\" (for Markdown) and \",[\"$\",\"$L16\",null,{\"children\":\"rehype\"}],\" (for HTML). Both of which are designed to be used by \",[\"$\",\"$L16\",null,{\"children\":\"unified\"}],\" (an ecosystem designed around transforming content).\"]}],[\"$\",\"p\",null,{\"children\":\"These tools are designed to handle the syntax trees that can represent their respective content. The main two we care about are:\"}],[\"$\",\"$L22\",null,{\"children\":[\"\\n\",[\"$\",\"$L23\",null,{\"children\":[\"Markdown Abstract Syntax Tree \",[\"$\",\"$L17\",null,{\"href\":\"https://github.com/syntax-tree/mdast\",\"children\":\"(MDAST)\"}]]}],\"\\n\",[\"$\",\"$L23\",null,{\"children\":[\"HTML Abstract Syntax Tree \",[\"$\",\"$L17\",null,{\"href\":\"https://github.com/syntax-tree/hast\",\"children\":\"(HAST)\"}]]}],\"\\n\"]}],[\"$\",\"p\",null,{\"children\":[\"It's these trees that both \",[\"$\",\"$L16\",null,{\"children\":\"remark\"}],\" and \",[\"$\",\"$L16\",null,{\"children\":\"rehype\"}],\" act on respectively; with both being designed to conform to the \",[\"$\",\"$L16\",null,{\"children\":\"unist\"}],\" \",[\"$\",\"$L17\",null,{\"href\":\"https://github.com/syntax-tree/unist\",\"children\":\"specification\"}],\".\"]}],[\"$\",\"p\",null,{\"children\":\"A high-level overview of the process would look like:\"}],[\"$\",\"pre\",null,{\"children\":[\"$\",\"$L16\",null,{\"className\":\"hljs language-md\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-section\",\"children\":\"# Transformation pipeline\"}],\"\\n\\nRaw Markup -\u003e MDAST\\nMDAST - remark transformations applied\\nMAST -\u003e HAST\\nHAST - rehype transformations applied\\nHAST -\u003e JSX\\n\"]}]}],[\"$\",\"p\",null,{\"children\":\"It gets a bit more complex as MDX extends both MDAST and HAST through MDXAST and HXAST respectively. But they are just supersets of the other trees that allow for special MDX syntax.\"}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"plugins\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#plugins\",\"children\":\"Plugins\"}]}],[\"$\",\"p\",null,{\"children\":[\"In this pipeline we are able to intereact with the syntax trees representing Markdown and HTML. This is available via \",[\"$\",\"strong\",null,{\"children\":\"plugins\"}],\". These \",[\"$\",\"strong\",null,{\"children\":\"plugins\"}],\" are functions that are passed the entirey of the syntax tree with which they can do whatever they please.\"]}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_info__5152b\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$1e\",\"$20\",\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"So long as the resulting syntax tree from a plugin is still a valid AST\"}],\"\\n\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Luckily a lot of different plugins are already maintained within the community for common use cases. Here is a list of some of the ones used on our site:\"}],[\"$\",\"$L18\",null,{\"children\":[[\"$\",\"$L19\",null,{\"children\":[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1b\",null,{\"children\":\"Name\"}],[\"$\",\"$L1b\",null,{\"children\":\"Purpose\"}],[\"$\",\"$L1b\",null,{\"children\":\"Documentation\"}]]}]}],[\"$\",\"$L1c\",null,{\"children\":[[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"remark-gfm\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Allows for GitHub Flavored Markdown to be parsed properly.\"}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L17\",null,{\"href\":\"https://github.com/remarkjs/remark-gfm\",\"children\":\"here\"}]}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"remark-breaks\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Allows line breaks to be parses as-is written.\"}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L17\",null,{\"href\":\"https://github.com/remarkjs/remark-breaks\",\"children\":\"here\"}]}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"rehype-highlight\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Allows for syntax highlight of multi-line code blocks.\"}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L17\",null,{\"href\":\"https://github.com/rehypejs/rehype-highlight\",\"children\":\"here\"}]}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"rehype-slug\"}]}],[\"$\",\"$L1d\",null,{\"children\":\"Appends ids to heading elements.\"}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L17\",null,{\"href\":\"https://github.com/rehypejs/rehype-slug\",\"children\":\"here\"}]}]]}],[\"$\",\"$L1a\",null,{\"children\":[[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L16\",null,{\"children\":\"rehype-autolink-headings\"}]}],[\"$\",\"$L1d\",null,{\"children\":[\"Creates hash links for headings with id attributes. Works in tandem with \",[\"$\",\"$L16\",null,{\"children\":\"rehype-slug\"}]]}],[\"$\",\"$L1d\",null,{\"children\":[\"$\",\"$L17\",null,{\"href\":\"https://github.com/rehypejs/rehype-autolink-headings\",\"children\":\"here\"}]}]]}]]}]]}],[\"$\",\"p\",null,{\"children\":[\"But there are \",[\"$\",\"$L17\",null,{\"href\":\"https://github.com/remarkjs/remark/blob/main/doc/plugins.md\",\"children\":\"many\"}],\", \",[\"$\",\"$L17\",null,{\"href\":\"https://github.com/rehypejs/rehype/blob/main/doc/plugins.md\",\"children\":\"many\"}],\" more available.\"]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"custom-transformation-plugins\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#custom-transformation-plugins\",\"children\":\"Custom transformation plugins\"}]}],[\"$\",\"p\",null,{\"children\":[\"Some custom plugins have also been created to account for some of edge cases and are listed below. All of them are exported from \",[\"$\",\"$L16\",null,{\"children\":\"src/lib/plugins\"}],\" within the project.\"]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"remark-image\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#remark-image\",\"children\":[\"$\",\"$L16\",null,{\"children\":\"remark-image\"}]}]}],[\"$\",\"p\",null,{\"children\":\"Given our images currently live next to our content we need some way of transforming the relative links we use when writing content into links that can be properly understood as static assets. This plugin does just that.\"}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_warning__CyZY4\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M26.0022,4H5.998A1.998,1.998,0,0,0,4,5.998V26.002A1.998,1.998,0,0,0,5.998,28H26.0022A1.9979,1.9979,0,0,0,28,26.002V5.998A1.9979,1.9979,0,0,0,26.0022,4ZM14.8752,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M14.8751,8h2.25V18h-2.25ZM16,24a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,24Z\",\"data-icon-path\":\"inner-path\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"It only acts on images with relative source values\"}]}]}]]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"remark-localize-links\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#remark-localize-links\",\"children\":[\"$\",\"$L16\",null,{\"children\":\"remark-localize-links\"}]}]}],[\"$\",\"p\",null,{\"children\":\"When writing relative links within our markup it makes more sense to write them with respect to the filesystem they originate from. Thus they do not have their locale prefixed to them like the resulting static pages do. This plugin will transform any relative links within your content to be localized based on as a locale of the generated page.\"}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_warning__CyZY4\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$24\",\"$26\",\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"$\",\"p\",null,{\"children\":[\"It will \",[\"$\",\"strong\",null,{\"children\":\"only\"}],\" transform relative links\"]}]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h4\",null,{\"id\":\"helper-utilities\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#helper-utilities\",\"children\":\"Helper utilities\"}]}],[\"$\",\"p\",null,{\"children\":[\"Various heler utilities exist within the \",[\"$\",\"$L16\",null,{\"children\":\"unist\"}],\" ecosystem to help solve common problems when parsing an AST. For instance within this repo we use:\"]}],[\"$\",\"$L22\",null,{\"children\":[\"\\n\",[\"$\",\"$L23\",null,{\"children\":[[\"$\",\"$L16\",null,{\"children\":\"unist-util-visit\"}],\": helps to walk an AST\"]}],\"\\n\",[\"$\",\"$L23\",null,{\"children\":[[\"$\",\"$L16\",null,{\"children\":\"unist-util-select\"}],\": query for specific nodes in the tree\"]}],\"\\n\"]}],[\"$\",\"p\",null,{\"children\":[\"A full list can be found \",[\"$\",\"$L17\",null,{\"href\":\"https://github.com/syntax-tree/unist?tab=readme-ov-file#list-of-utilities\",\"children\":\"here\"}],\".\"]}],[\"$\",\"p\",null,{\"children\":[\"When writing any custom plugin these utilities become invaluable assets as they are able to parse any AST that conforms to the \",[\"$\",\"$L16\",null,{\"children\":\"unist\"}],\" spec.\"]}]]}]]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h2\",null,{\"id\":\"images\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#images\",\"children\":\"Images\"}]}],[\"$\",\"p\",null,{\"children\":\"Images are handled differently in the development and production environments.\"}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"local-development\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#local-development\",\"children\":\"Local Development\"}]}],[\"$\",\"p\",null,{\"children\":[\"When running the development server images will be sourced locally from the \",[\"$\",\"$L16\",null,{\"children\":\"content\"}],\" folder. However, because of how \",[\"$\",\"$L17\",null,{\"href\":\"https://nextjs.org/docs/app/building-your-application/optimizing/static-assets\",\"children\":\"static assets\"}],\" are handled in Next.js they are expected to originally be located in the \",[\"$\",\"$L16\",null,{\"children\":\"public\"}],\" folder.\"]}],[\"$\",\"p\",null,{\"children\":[\"In order to \",[\"$\",\"em\",null,{\"children\":\"\\\"cheat\\\"\"}],\" this a symlink has been created in the \",[\"$\",\"$L16\",null,{\"children\":\"public\"}],\" folder to point to the \",[\"$\",\"$L16\",null,{\"children\":\"content\"}],\" folder so that images can remain in-place there.\"]}],[\"$\",\"p\",null,{\"children\":[\"For more info on the inner workings of this see \",[\"$\",\"$L16\",null,{\"children\":\"src/lib/plugins/remark-image\"}],\" within the repo.\"]}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"h3\",null,{\"id\":\"production\",\"className\":\"Heading_heading__iNY6s\",\"children\":[\"$\",\"$L17\",null,{\"href\":\"#production\",\"children\":\"Production\"}]}],[\"$\",\"p\",null,{\"children\":[\"In a production build images are sourced \",[\"$\",\"strong\",null,{\"children\":\"remotely\"}],\".\"]}],[\"$\",\"p\",null,{\"children\":[\"Since our site is hosted as static assets within Github Pages it would be redundant to have them included in the final build assets. Because of this, when a produciton version of the site is built all relative image links will have their paths transformed point to the content hosted in the \",[\"$\",\"$L16\",null,{\"children\":\"main\"}],\" repo on public GitHub.\"]}],[\"$\",\"blockquote\",null,{\"className\":\"BlockQuote_blockQuote__vac4_ BlockQuote_error__ih1Xn\",\"children\":[[\"$\",\"svg\",null,{\"focusable\":\"false\",\"preserveAspectRatio\":\"xMidYMid meet\",\"fill\":\"currentColor\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 32 32\",\"aria-hidden\":true,\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z\",\"data-icon-path\":\"inner-path\"}],[\"$\",\"path\",null,{\"d\":\"M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z\"}],[\"$\",\"path\",null,{\"d\":\"M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"BlockQuote_blockQuoteContent__BI1NX\",\"children\":[\"$\",\"p\",null,{\"children\":[\"If you make a production build of the site locally and cannot see your images that is because they are not yet within the \",[\"$\",\"$L16\",null,{\"children\":\"main\"}],\" branch of the repo. Instead, to test a static build with local assets run \",[\"$\",\"$L16\",null,{\"children\":\"npm run build:local\"}],\".\"]}]}]]}]]}]]}]]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>